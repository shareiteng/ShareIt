{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///imageSelector.js","webpack:///webpack/bootstrap af03350b87583887d6fc","webpack:///./src/imageSelector.js","webpack:///./~/add-event-listener/index.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","addResponsiveCallback","callback","responsiveCallbacks","length","events","addEventListener","window","i","push","getStyle","el","styleProp","y","currentStyle","getComputedStyle","document","defaultView","getPropertyValue","getWidth","element","width","clientWidth","widthStr","parentNode","charAt","percent","parseInt","parentWidth","addAt2x","url","indexOfDot","lastIndexOf","substr","rateImage","imageWidth","desiredWidth","ratio","Math","abs","createFilterOnAspectRatio","aspectRatio","aspectRatioCache","cut","createFilterOnWidthAndHeight","height","desiredAspectRatio","ratioString","toString","heightWidthCache","isRetina","devicePixelRatio","selectCutWithAspectRatio","cuts","worstAccepableScore","filter","selectCut","selectCutWithWidthAndHeight","desiredHeight","undefined","cutToUse","bestScore","Infinity","hasOwnProperty","score","addSource","srcAttribute","JSON","parse","getAttribute","shouldUseHeight","attributes","specified","src","at2x","setAttribute","className","watchImage","img","currentWidth","offsetWidth","selectImages","container","body","elements","querySelectorAll","removeAttribute","e","console","error","eventName","listener","useCapture","Events","add","stdAttach","rm","stdDetach","oldIEAttach","oldIEDetach","removeEventListener","Error","attachEvent","detachEvent"],"mappings":"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","file":"imageSelector.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"imageSelector\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"imageSelector\"] = factory();\n\telse\n\t\troot[\"imageSelector\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"imageSelector\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"imageSelector\"] = factory();\n\telse\n\t\troot[\"imageSelector\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t/*\n\tCopyright 2016 Stu Kabakoff\n\thttps://github.com/stutrek/imageSelector\n\tMIT Licensed\n\t*/\n\t\n\tvar events = __webpack_require__(1);\n\t\n\tvar isRetina = ( window.devicePixelRatio && window.devicePixelRatio > 1.5 );\n\t\n\tvar responsiveCallbacks = [];\n\t\n\tfunction addResponsiveCallback (callback) {\n\t\tif (responsiveCallbacks.length === 0) {\n\t\t\tevents.addEventListener(window, 'resize', function() {\n\t\t\t\tfor (var i=0; i < responsiveCallbacks.length; i++) {\n\t\t\t\t\tresponsiveCallbacks[i]();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tresponsiveCallbacks.push(callback);\n\t}\n\t\n\tfunction getStyle (el, styleProp) {\n\t\tvar y;\n\t\tif (el.currentStyle) {\n\t\t\ty = el.currentStyle[styleProp];\n\t\t} else if (window.getComputedStyle) {\n\t\t\ty = document.defaultView.getComputedStyle(el,null).getPropertyValue(styleProp);\n\t\t}\n\t\treturn y;\n\t}\n\t\n\tfunction getWidth (element) {\n\t\tvar width = element.clientWidth;\n\t\tif (width === 0) {\n\t\t\tvar widthStr = getStyle( element, 'width' );\n\t\t\tif (widthStr === 'auto') {\n\t\t\t\twidth = getWidth( element.parentNode );\n\t\t\t} else if (widthStr.charAt(widthStr.length-1) === '%') {\n\t\t\t\tvar percent = parseInt( widthStr, 10 );\n\t\t\t\tvar parentWidth = getWidth( element.parentNode );\n\t\t\t\twidth = parentWidth * (percent / 100);\n\t\t\t} else {\n\t\t\t\twidth = parseInt( widthStr, 10 );\n\t\t\t}\n\t\t}\n\t\treturn width;\n\t}\n\t\n\tfunction addAt2x (url) {\n\t\tvar indexOfDot = url.lastIndexOf('.');\n\t\treturn url.substr(0, indexOfDot)+'@2x'+url.substr(indexOfDot);\n\t}\n\t\n\tfunction rateImage (imageWidth, desiredWidth) {\n\t\tvar ratio = imageWidth / desiredWidth;\n\t\tif (ratio < 1) {\n\t\t\tratio = ratio / 2;\n\t\t}\n\t\treturn Math.abs( 1 - ratio );\n\t}\n\t\n\tvar aspectRatioCache = {};\n\tfunction createFilterOnAspectRatio (aspectRatio) {\n\t\n\t\tif (!aspectRatioCache[aspectRatio]) {\n\t\t\taspectRatioCache[aspectRatio] = function( cut ) {\n\t\t\t\treturn cut.aspectRatio === aspectRatio;\n\t\t\t};\n\t\t}\n\t\n\t\treturn aspectRatioCache[aspectRatio];\n\t}\n\t\n\tvar heightWidthCache = {};\n\tfunction createFilterOnWidthAndHeight (width, height) {\n\t\tvar desiredAspectRatio = width / height;\n\t\tvar ratioString = desiredAspectRatio.toString();\n\t\n\t\tif (!heightWidthCache[ratioString]) {\n\t\t\theightWidthCache[ratioString] = function( cut ) {\n\t\t\t\t// if the cut is exactly the right ratio\n\t\t\t\tif (cut.width / cut.height === desiredAspectRatio) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\t// if adding one to the width is larger and subtracting one is smaller than the desired ratio\n\t\t\t\tif ( ((cut.width+1) / cut.height) >= desiredAspectRatio && ((cut.width-1) / cut.height) <= desiredAspectRatio) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\treturn false;\n\t\t\t};\n\t\t}\n\t\treturn heightWidthCache[ratioString];\n\t}\n\t\n\texports.selectCutWithAspectRatio = function (cuts, desiredWidth, aspectRatio, worstAccepableScore) {\n\t\tcuts = cuts.filter( createFilterOnAspectRatio( aspectRatio ) );\n\t\treturn exports.selectCut( cuts, desiredWidth, worstAccepableScore);\n\t};\n\t\n\texports.selectCutWithWidthAndHeight = function (cuts, desiredWidth, desiredHeight, worstAccepableScore) {\n\t\tcuts = cuts.filter( createFilterOnWidthAndHeight( desiredWidth, desiredHeight) );\n\t\treturn exports.selectCut( cuts, desiredWidth, worstAccepableScore);\n\t};\n\t\n\texports.selectCut = function (cuts, desiredWidth, worstAccepableScore) {\n\t\tif (worstAccepableScore === undefined) {\n\t\t\tworstAccepableScore = 0.75;\n\t\t}\n\t\n\t\tvar cutToUse, bestScore = Infinity;\n\t\tfor (var i in cuts) {\n\t\t\tif (cuts.hasOwnProperty(i)) {\n\t\t\t\tvar cut = cuts[i];\n\t\n\t\t\t\tif (desiredWidth === cut.width) {\n\t\t\t\t\treturn cut;\n\t\t\t\t}\n\t\t\t\tvar score = rateImage( cut.width, desiredWidth );\n\t\t\t\tif (score < worstAccepableScore) {\n\t\t\t\t\tif (score < bestScore) {\n\t\t\t\t\t\tcutToUse = cut;\n\t\t\t\t\t\tbestScore = score;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn cutToUse;\n\t};\n\t\n\texports.addSource = function (element, srcAttribute, cuts) {\n\t\tsrcAttribute = srcAttribute || 'src';\n\t\n\t\tcuts = cuts || JSON.parse(element.getAttribute('data-cuts'));\n\t\tvar width = getWidth( element );\n\t\tvar height;\n\t\tvar aspectRatio = element.getAttribute('data-aspect-ratio');\n\t\n\t\tvar shouldUseHeight = false;\n\t\tfor (var i in cuts) {\n\t\t\tif (cuts.hasOwnProperty(i) && cuts[i].height) {\n\t\t\t\tshouldUseHeight = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\n\t\tif (element.attributes.height && element.attributes.height.specified) {\n\t\t\theight = element.height;\n\t\t} else {\n\t\t\theight = getStyle( element, 'height' );\n\t\t}\n\t\n\t\theight = parseInt(height, 10);\n\t\n\t\tsrcAttribute = element.getAttribute('data-src-attribute') || srcAttribute;\n\t\n\t\t// make sure it's not a missing image icon\n\t\tif (height < 30) {\n\t\t\theight = false;\n\t\t}\n\t\n\t\tvar cut;\n\t\tif (aspectRatio) {\n\t\t\tcut = exports.selectCutWithAspectRatio( cuts, width, aspectRatio );\n\t\t} else if (shouldUseHeight && height) {\n\t\t\tcut = exports.selectCutWithWidthAndHeight( cuts, width, height );\n\t\t} else {\n\t\t\tcut = exports.selectCut( cuts, width );\n\t\t}\n\t\n\t\tif (cut) {\n\t\t\tvar src = cut.src;\n\t\t\tif (isRetina && cut.at2x && cut.width < width*1.5) {\n\t\t\t\tif (typeof cut.at2x === 'string') {\n\t\t\t\t\tsrc = cut.at2x;\n\t\t\t\t} else {\n\t\t\t\t\tsrc = addAt2x(src);\n\t\t\t\t}\n\t\t\t}\n\t\t\telement.setAttribute( srcAttribute, src );\n\t\n\t\t} else {\n\t\t\telement.className += ' no-cut-found';\n\t\t\telement.setAttribute( srcAttribute, '' );\n\t\t}\n\t};\n\t\n\texports.watchImage = function (img, cuts, srcAttribute) {\n\t\tvar currentWidth = img.offsetWidth;\n\t\texports.addSource(img, srcAttribute, cuts);\n\t\taddResponsiveCallback(function() {\n\t\t\tif (img.offsetWidth !== currentWidth) {\n\t\t\t\tcurrentWidth = img.offsetWidth;\n\t\t\t\texports.addSource(img, srcAttribute, cuts);\n\t\t\t}\n\t\t});\n\t};\n\t\n\texports.selectImages = function (container, srcAttribute) {\n\t\tcontainer = container || document.body;\n\t\tvar elements = container.querySelectorAll('img[data-cuts]');\n\t\tvar element;\n\t\tfor (var i = 0; i < elements.length; i++) {\n\t\t\telement = elements[i];\n\t\n\t\t\ttry {\n\t\t\t\tvar cuts = JSON.parse(element.getAttribute('data-cuts'));\n\t\t\t\telement.removeAttribute('data-cuts');\n\t\n\t\t\t\tif (element.getAttribute('data-responsive') === 'true') {\n\t\t\t\t\texports.watchImage(element, cuts, srcAttribute);\n\t\t\t\t} else {\n\t\t\t\t\texports.addSource(element, srcAttribute, cuts);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\tconsole && console.error && console.error(e);\n\t\t\t}\n\t\t}\n\t};\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\taddEventListener.removeEventListener = removeEventListener\n\taddEventListener.addEventListener = addEventListener\n\t\n\tmodule.exports = addEventListener\n\t\n\tvar Events = null\n\t\n\tfunction addEventListener(el, eventName, listener, useCapture) {\n\t  Events = Events || (\n\t    document.addEventListener ?\n\t    {add: stdAttach, rm: stdDetach} :\n\t    {add: oldIEAttach, rm: oldIEDetach}\n\t  )\n\t  \n\t  return Events.add(el, eventName, listener, useCapture)\n\t}\n\t\n\tfunction removeEventListener(el, eventName, listener, useCapture) {\n\t  Events = Events || (\n\t    document.addEventListener ?\n\t    {add: stdAttach, rm: stdDetach} :\n\t    {add: oldIEAttach, rm: oldIEDetach}\n\t  )\n\t  \n\t  return Events.rm(el, eventName, listener, useCapture)\n\t}\n\t\n\tfunction stdAttach(el, eventName, listener, useCapture) {\n\t  el.addEventListener(eventName, listener, useCapture)\n\t}\n\t\n\tfunction stdDetach(el, eventName, listener, useCapture) {\n\t  el.removeEventListener(eventName, listener, useCapture)\n\t}\n\t\n\tfunction oldIEAttach(el, eventName, listener, useCapture) {\n\t  if(useCapture) {\n\t    throw new Error('cannot useCapture in oldIE')\n\t  }\n\t\n\t  el.attachEvent('on' + eventName, listener)\n\t}\n\t\n\tfunction oldIEDetach(el, eventName, listener, useCapture) {\n\t  el.detachEvent('on' + eventName, listener)\n\t}\n\n\n/***/ }\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// imageSelector.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap af03350b87583887d6fc","/*\nCopyright 2016 Stu Kabakoff\nhttps://github.com/stutrek/imageSelector\nMIT Licensed\n*/\n\nvar events = require('add-event-listener');\n\nvar isRetina = ( window.devicePixelRatio && window.devicePixelRatio > 1.5 );\n\nvar responsiveCallbacks = [];\n\nfunction addResponsiveCallback (callback) {\n\tif (responsiveCallbacks.length === 0) {\n\t\tevents.addEventListener(window, 'resize', function() {\n\t\t\tfor (var i=0; i < responsiveCallbacks.length; i++) {\n\t\t\t\tresponsiveCallbacks[i]();\n\t\t\t}\n\t\t});\n\t}\n\tresponsiveCallbacks.push(callback);\n}\n\nfunction getStyle (el, styleProp) {\n\tvar y;\n\tif (el.currentStyle) {\n\t\ty = el.currentStyle[styleProp];\n\t} else if (window.getComputedStyle) {\n\t\ty = document.defaultView.getComputedStyle(el,null).getPropertyValue(styleProp);\n\t}\n\treturn y;\n}\n\nfunction getWidth (element) {\n\tvar width = element.clientWidth;\n\tif (width === 0) {\n\t\tvar widthStr = getStyle( element, 'width' );\n\t\tif (widthStr === 'auto') {\n\t\t\twidth = getWidth( element.parentNode );\n\t\t} else if (widthStr.charAt(widthStr.length-1) === '%') {\n\t\t\tvar percent = parseInt( widthStr, 10 );\n\t\t\tvar parentWidth = getWidth( element.parentNode );\n\t\t\twidth = parentWidth * (percent / 100);\n\t\t} else {\n\t\t\twidth = parseInt( widthStr, 10 );\n\t\t}\n\t}\n\treturn width;\n}\n\nfunction addAt2x (url) {\n\tvar indexOfDot = url.lastIndexOf('.');\n\treturn url.substr(0, indexOfDot)+'@2x'+url.substr(indexOfDot);\n}\n\nfunction rateImage (imageWidth, desiredWidth) {\n\tvar ratio = imageWidth / desiredWidth;\n\tif (ratio < 1) {\n\t\tratio = ratio / 2;\n\t}\n\treturn Math.abs( 1 - ratio );\n}\n\nvar aspectRatioCache = {};\nfunction createFilterOnAspectRatio (aspectRatio) {\n\n\tif (!aspectRatioCache[aspectRatio]) {\n\t\taspectRatioCache[aspectRatio] = function( cut ) {\n\t\t\treturn cut.aspectRatio === aspectRatio;\n\t\t};\n\t}\n\n\treturn aspectRatioCache[aspectRatio];\n}\n\nvar heightWidthCache = {};\nfunction createFilterOnWidthAndHeight (width, height) {\n\tvar desiredAspectRatio = width / height;\n\tvar ratioString = desiredAspectRatio.toString();\n\n\tif (!heightWidthCache[ratioString]) {\n\t\theightWidthCache[ratioString] = function( cut ) {\n\t\t\t// if the cut is exactly the right ratio\n\t\t\tif (cut.width / cut.height === desiredAspectRatio) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\t// if adding one to the width is larger and subtracting one is smaller than the desired ratio\n\t\t\tif ( ((cut.width+1) / cut.height) >= desiredAspectRatio && ((cut.width-1) / cut.height) <= desiredAspectRatio) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t};\n\t}\n\treturn heightWidthCache[ratioString];\n}\n\nexports.selectCutWithAspectRatio = function (cuts, desiredWidth, aspectRatio, worstAccepableScore) {\n\tcuts = cuts.filter( createFilterOnAspectRatio( aspectRatio ) );\n\treturn exports.selectCut( cuts, desiredWidth, worstAccepableScore);\n};\n\nexports.selectCutWithWidthAndHeight = function (cuts, desiredWidth, desiredHeight, worstAccepableScore) {\n\tcuts = cuts.filter( createFilterOnWidthAndHeight( desiredWidth, desiredHeight) );\n\treturn exports.selectCut( cuts, desiredWidth, worstAccepableScore);\n};\n\nexports.selectCut = function (cuts, desiredWidth, worstAccepableScore) {\n\tif (worstAccepableScore === undefined) {\n\t\tworstAccepableScore = 0.75;\n\t}\n\n\tvar cutToUse, bestScore = Infinity;\n\tfor (var i in cuts) {\n\t\tif (cuts.hasOwnProperty(i)) {\n\t\t\tvar cut = cuts[i];\n\n\t\t\tif (desiredWidth === cut.width) {\n\t\t\t\treturn cut;\n\t\t\t}\n\t\t\tvar score = rateImage( cut.width, desiredWidth );\n\t\t\tif (score < worstAccepableScore) {\n\t\t\t\tif (score < bestScore) {\n\t\t\t\t\tcutToUse = cut;\n\t\t\t\t\tbestScore = score;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn cutToUse;\n};\n\nexports.addSource = function (element, srcAttribute, cuts) {\n\tsrcAttribute = srcAttribute || 'src';\n\n\tcuts = cuts || JSON.parse(element.getAttribute('data-cuts'));\n\tvar width = getWidth( element );\n\tvar height;\n\tvar aspectRatio = element.getAttribute('data-aspect-ratio');\n\n\tvar shouldUseHeight = false;\n\tfor (var i in cuts) {\n\t\tif (cuts.hasOwnProperty(i) && cuts[i].height) {\n\t\t\tshouldUseHeight = true;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tif (element.attributes.height && element.attributes.height.specified) {\n\t\theight = element.height;\n\t} else {\n\t\theight = getStyle( element, 'height' );\n\t}\n\n\theight = parseInt(height, 10);\n\n\tsrcAttribute = element.getAttribute('data-src-attribute') || srcAttribute;\n\n\t// make sure it's not a missing image icon\n\tif (height < 30) {\n\t\theight = false;\n\t}\n\n\tvar cut;\n\tif (aspectRatio) {\n\t\tcut = exports.selectCutWithAspectRatio( cuts, width, aspectRatio );\n\t} else if (shouldUseHeight && height) {\n\t\tcut = exports.selectCutWithWidthAndHeight( cuts, width, height );\n\t} else {\n\t\tcut = exports.selectCut( cuts, width );\n\t}\n\n\tif (cut) {\n\t\tvar src = cut.src;\n\t\tif (isRetina && cut.at2x && cut.width < width*1.5) {\n\t\t\tif (typeof cut.at2x === 'string') {\n\t\t\t\tsrc = cut.at2x;\n\t\t\t} else {\n\t\t\t\tsrc = addAt2x(src);\n\t\t\t}\n\t\t}\n\t\telement.setAttribute( srcAttribute, src );\n\n\t} else {\n\t\telement.className += ' no-cut-found';\n\t\telement.setAttribute( srcAttribute, '' );\n\t}\n};\n\nexports.watchImage = function (img, cuts, srcAttribute) {\n\tvar currentWidth = img.offsetWidth;\n\texports.addSource(img, srcAttribute, cuts);\n\taddResponsiveCallback(function() {\n\t\tif (img.offsetWidth !== currentWidth) {\n\t\t\tcurrentWidth = img.offsetWidth;\n\t\t\texports.addSource(img, srcAttribute, cuts);\n\t\t}\n\t});\n};\n\nexports.selectImages = function (container, srcAttribute) {\n\tcontainer = container || document.body;\n\tvar elements = container.querySelectorAll('img[data-cuts]');\n\tvar element;\n\tfor (var i = 0; i < elements.length; i++) {\n\t\telement = elements[i];\n\n\t\ttry {\n\t\t\tvar cuts = JSON.parse(element.getAttribute('data-cuts'));\n\t\t\telement.removeAttribute('data-cuts');\n\n\t\t\tif (element.getAttribute('data-responsive') === 'true') {\n\t\t\t\texports.watchImage(element, cuts, srcAttribute);\n\t\t\t} else {\n\t\t\t\texports.addSource(element, srcAttribute, cuts);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\tconsole && console.error && console.error(e);\n\t\t}\n\t}\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/imageSelector.js\n// module id = 0\n// module chunks = 0","addEventListener.removeEventListener = removeEventListener\naddEventListener.addEventListener = addEventListener\n\nmodule.exports = addEventListener\n\nvar Events = null\n\nfunction addEventListener(el, eventName, listener, useCapture) {\n  Events = Events || (\n    document.addEventListener ?\n    {add: stdAttach, rm: stdDetach} :\n    {add: oldIEAttach, rm: oldIEDetach}\n  )\n  \n  return Events.add(el, eventName, listener, useCapture)\n}\n\nfunction removeEventListener(el, eventName, listener, useCapture) {\n  Events = Events || (\n    document.addEventListener ?\n    {add: stdAttach, rm: stdDetach} :\n    {add: oldIEAttach, rm: oldIEDetach}\n  )\n  \n  return Events.rm(el, eventName, listener, useCapture)\n}\n\nfunction stdAttach(el, eventName, listener, useCapture) {\n  el.addEventListener(eventName, listener, useCapture)\n}\n\nfunction stdDetach(el, eventName, listener, useCapture) {\n  el.removeEventListener(eventName, listener, useCapture)\n}\n\nfunction oldIEAttach(el, eventName, listener, useCapture) {\n  if(useCapture) {\n    throw new Error('cannot useCapture in oldIE')\n  }\n\n  el.attachEvent('on' + eventName, listener)\n}\n\nfunction oldIEDetach(el, eventName, listener, useCapture) {\n  el.detachEvent('on' + eventName, listener)\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/add-event-listener/index.js\n// module id = 1\n// module chunks = 0"],"sourceRoot":""}